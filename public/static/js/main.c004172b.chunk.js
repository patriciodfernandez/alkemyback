(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var c,n,i=a(0),r=a.n(i),s=a(19),o=a.n(s),l=a(18),d=a.n(l),j=a(8),b=a(14),u=Object(b.c)("OPERATION_REQUEST",(function(e){return d.a.post("https://alkemy-back.herokuapp.com/api/operations",e).then((function(e){return[]}))})),m=Object(b.c)("OPERATIONS_GET",(function(){return d.a.get("https://alkemy-back.herokuapp.com/api/operations").then((function(e){return e.data}))})),O=Object(b.c)("GET_ONE_OPERATION",(function(e){return d.a.get("https://alkemy-back.herokuapp.com/api/operations/".concat(e)).then((function(e){return e.data}))})),h=Object(b.c)("DELETE_PRODUCT",(function(e){return d.a.delete("https://alkemy-back.herokuapp.com/api/operations/".concat(e)).then((function(e){return e.data}))})),p=Object(b.d)([],(c={},Object(j.a)(c,u.fulfilled,(function(e,t){return t.payload})),Object(j.a)(c,m.fulfilled,(function(e,t){return t.payload})),Object(j.a)(c,O.fulfilled,(function(e,t){return[t.payload]})),Object(j.a)(c,h.fulfilled,(function(e,t){return t.payload})),c)),f=a(6),x=a(11),v=a(65),g=a(1),N=function(){var e=Object(x.b)(),t=Object(f.f)();r.a.useEffect((function(){e(m())}),[e]);var a=Object(x.c)((function(e){return e.user})),c=Object(x.c)((function(e){return e.operation})),n=null===c||void 0===c?void 0:c.filter((function(e){return e.userId===(null===a||void 0===a?void 0:a.id)}));console.log("arrayOpUser,",n);var i=n.slice(-10),s=n.filter((function(e){return"ingreso"===e.type})),o=[];s.forEach((function(e){return o.push(e.amount)}));for(var l=0,d=0,j=o;d<j.length;d++){l+=j[d]}var b=n.filter((function(e){return"egreso"===e.type})),u=[];b.forEach((function(e){return u.push(e.amount)}));for(var p=0,N=0,y=u;N<y.length;N++){p+=y[N]}var k=l-p;return Object(g.jsx)("div",{children:a.id?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"display-4 m-5",children:Object(g.jsxs)("div",{className:"text-center",children:[" ","Bienvenido a tu balance ","\xa1".concat(a.name,"!"),Object(g.jsx)("br",{})," tu cuenta es la n\xba ","".concat(a.id,"!")]})}),Object(g.jsx)("div",{className:"row no-gutters m-1",children:Object(g.jsxs)(v.a,{responsive:!0,size:"sm",bordered:!0,hover:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Concepto"}),Object(g.jsx)("th",{children:"Amount"}),Object(g.jsx)("th",{children:"Date"}),Object(g.jsx)("th",{children:"Type"}),Object(g.jsx)("th",{children:"Options"})]})}),Object(g.jsx)("tbody",{children:i.map((function(a){return Object(g.jsxs)("tr",{style:{backgroundColor:"ingreso"===a.type?"#65f078":"#fd8484"},children:[Object(g.jsx)("td",{children:a.concept}),Object(g.jsx)("td",{children:a.amount}),Object(g.jsx)("td",{children:a.date}),Object(g.jsx)("td",{children:a.type}),Object(g.jsxs)("td",{children:[Object(g.jsx)("button",{onClick:function(){return c=a.id,void e(O(c)).then(t("/operation/edit/".concat(c)));var c},className:"btn btn-sm text-light bg-secondary mx-2",children:"Editar"}),Object(g.jsx)("button",{onClick:function(){return c=a.id,void e(h(c)).then(t("/"));var c},className:"btn btn-sm text-light bg-danger  mx-2",children:"Borrar"})]})]},a.id)}))}),Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:" Saldo TOTAL "}),Object(g.jsxs)("th",{children:[" ",Object(g.jsx)("h3",{children:k})]})]})})]})})]}):Object(g.jsx)("div",{className:"display-4 m-5",children:Object(g.jsxs)("div",{className:"text-center",children:[" ","Bienvenido a tu balance, por favor ingresa o registra una nueva cuenta."]})})})},y=a(3),k=Object(b.c)("REGISTER_REQUEST",(function(e){return d.a.post("https://alkemy-back.herokuapp.com/api/auth/register",e).then((function(e){return[]}))})),E=Object(b.c)("LOGIN_REQUEST",(function(e){return d.a.post("https://alkemy-back.herokuapp.com/api/auth/login",{email:e.email,password:e.password}).then((function(e){return e.data}))})),S=Object(b.b)("SET_USER"),T=Object(b.b)("LOGOUT"),w=Object(b.d)([],(n={},Object(j.a)(n,k.fulfilled,(function(e,t){return t.payload})),Object(j.a)(n,E.fulfilled,(function(e,t){return t.payload.usuario})),Object(j.a)(n,T,(function(e,t){return[]})),Object(j.a)(n,S,(function(e,t){return t.payload})),n)),C=a(21),I=a.n(C),_=a(12),F=(a(51),function(){var e=Object(f.f)(),t=Object(x.b)(),a=Object(i.useState)(""),c=Object(y.a)(a,2),n=c[0],r=c[1],s=Object(i.useState)(""),o=Object(y.a)(s,2),l=o[0],d=o[1],j=Object(i.useState)("inicial"),b=Object(y.a)(j,2),u=b[0],m=b[1],O=Object(i.useState)("inicial"),h=Object(y.a)(O,2),p=h[0],v=h[1];return Object(g.jsx)("div",{className:"row no-gutters wrapper",children:Object(g.jsx)("div",{className:"col-10 col-lg-5",children:Object(g.jsxs)("form",{className:"shadow-lg",onSubmit:function(a){a.preventDefault(),"mostrar"===u&&"mostrar"===u?t(E({email:n,password:l})).then((function(t){if("rejected"===t.meta.requestStatus)return d(""),I()("Usuario o contrase\xf1a incorrectos");t.payload&&(localStorage.setItem("token",t.payload.token),I()("Logged in!"),e("/"))})):I()("\xa1Ingrese datos v\xe1lidos!")},children:[Object(g.jsx)("h1",{className:"mb-3",children:"Login"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(g.jsx)("input",{id:"email_field",className:" form-control ".concat("inicial"===u?"":"mostrar"===u?"is-valid ":"is-invalid","             \n                  "),value:n,onChange:function(e){return r(e.target.value)},onBlur:function(e){""!==n&&/\w+@\w+\.[a-z]/.test(n)?m("mostrar"):m("nomostrar")}}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Ingrese un email v\xe1lido"}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password_field",children:"Contrase\xf1a"}),Object(g.jsx)("input",{type:"password",id:"password_field",className:" form-control ".concat("inicial"===p?"":"mostrar"===p?"is-valid ":"is-invalid","             \n                  "),value:l,onChange:function(e){return d(e.target.value)},onBlur:function(e){v(""!==l?"mostrar":"nomostrar")}}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Entre una contrase\xf1a v\xe1lida"}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien contin\xfae"})]}),Object(g.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(g.jsx)(_.b,{to:"/register",className:"float-right mt-3",children:"Nuevo usuario?"})]})})})}),R=a(2),B=function(){var e=Object(x.c)((function(e){return e.user})),t=Object(f.f)(),a=Object(x.b)(),c=Object(i.useState)({}),n=Object(y.a)(c,2),r=n[0],s=n[1];e&&(r.userId=e.id);var o=function(e){s(Object(R.a)(Object(R.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))},l=Object(i.useState)("inicial"),d=Object(y.a)(l,2),b=d[0],m=d[1],O=Object(i.useState)("inicial"),h=Object(y.a)(O,2),p=h[0],v=h[1],N=Object(i.useState)("inicial"),k=Object(y.a)(N,2),E=k[0],S=k[1],T=Object(i.useState)("Tipo de operaci\xf3n"),w=Object(y.a)(T,2),C=w[0],_=w[1];return"Tipo de operaci\xf3n"!==C&&(r.type=C),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"row no-gutters wrapper",children:Object(g.jsx)("div",{className:"col-10 col-lg-5",children:Object(g.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),"mostrar"===b&&"mostrar"===E&&"mostrar"===p&&a(u(r)).then((function(){I()("\xa1Operaci\xf3n registrada exitosamente!"),t("/")}))},encType:"multipart/form-data",children:[Object(g.jsx)("h1",{className:"mb-3",children:"Operations"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:" Concepto "}),Object(g.jsx)("input",{type:"Concept",id:"Concept_field",className:" form-control ".concat("inicial"===b?"":"mostrar"===b?"is-valid ":"is-invalid","             \n                "),name:"concept",onChange:o,onBlur:function(e){""!==r.concept&&/[A-Za-z]/.test(r.concept)?m("mostrar"):m("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien contin\xfae"}),Object(g.jsxs)("div",{className:"invalid-feedback",children:["Ingrese un concepto v\xe1lido"," "]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:" Monto "}),Object(g.jsx)("input",{type:"Amount",id:"Amount_field",className:" form-control ".concat("inicial"===p?"":"mostrar"===p?"is-valid ":"is-invalid","             \n                "),name:"amount",onChange:o,onBlur:function(e){""!==r.amount&&/[0-9]/.test(r.amount)?v("mostrar"):v("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"}),Object(g.jsxs)("div",{className:"invalid-feedback",children:["Entre un monto v\xe1lido v\xe1lido"," "]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Date"}),Object(g.jsx)("input",{type:"date",id:"date_field",className:" form-control ".concat("inicial"===E?"":"mostrar"===E?"is-valid ":"is-invalid","             \n                "),name:"date",onChange:o,onBlur:function(e){""!==r.date&&/[0-9]/.test(r.date)?S("mostrar"):S("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Ingrese una fecha v\xe1lida"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Type"}),Object(g.jsxs)("select",{name:"store",className:"form-control",value:C,onChange:function(e){return _(e.target.value)},children:[Object(g.jsx)("option",{value:"seleccione",children:"Tipo de operaci\xf3n"}),";",Object(g.jsx)("option",{value:"ingreso",children:"Ingreso "}),Object(g.jsx)("option",{value:"egreso",children:"Egreso "})]})]}),Object(g.jsx)("button",{id:"Operation_button",type:"submit",className:"btn btn-block py-3",children:"Enviar"})]})})})})},A=function(){var e=Object(f.g)().id,t=Object(f.f)(),a=Object(x.b)();r.a.useEffect((function(){a(O(e)).then((function(e){e.payload&&(l(e.payload.concept),m(e.payload.amount),N(e.payload.date),T(e.payload.type))})),t("/operation/edit/".concat(e))}),[a]);var c=Object(x.c)((function(e){return e.operation})),n=Object(i.useState)(""),s=Object(y.a)(n,2),o=s[0],l=s[1],j=Object(i.useState)(""),b=Object(y.a)(j,2),u=b[0],m=b[1],h=Object(i.useState)(""),p=Object(y.a)(h,2),v=p[0],N=p[1],k=Object(i.useState)(""),E=Object(y.a)(k,2),S=E[0],T=E[1],w={concept:o,amount:u,date:v,type:S};return Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:c.length?Object(g.jsx)("div",{className:"row no-gutters wrapper",children:Object(g.jsx)("div",{className:"col-10 col-lg-5",children:Object(g.jsxs)("form",{className:"shadow-lg",onSubmit:function(a){return a.preventDefault(),d.a.put("https://alkemy-back.herokuapp.com/api/operations/".concat(e),w).then((function(e){console.log(e)})).then((function(){I()("Producto editado!"),t("/")}))},encType:"multipart/form-data",children:[Object(g.jsx)("h1",{className:"mb-3",children:"Editar Operaci\xf3n"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Concepto"}),Object(g.jsx)("textarea",{value:o,className:"form-control",onChange:function(e){l(e.target.value)}})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Monto "}),Object(g.jsx)("input",{value:u,className:"form-control",onChange:function(e){m(e.target.value)}})]}),Object(g.jsx)("div",{className:"form-group"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Fecha"}),Object(g.jsx)("input",{value:v,className:"form-control",onChange:function(e){N(e.target.value)}})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Tipo"}),Object(g.jsx)("input",{value:S,className:"form-control",onChange:function(e){T(e.target.value)}})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-block py-3",children:"CONFIRMAR"})]})})}):"loading"})})},D=function(){var e=Object(f.f)(),t=Object(x.b)(),a=Object(i.useState)({}),c=Object(y.a)(a,2),n=c[0],r=c[1],s=function(e){r(Object(R.a)(Object(R.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))},o=Object(i.useState)("inicial"),l=Object(y.a)(o,2),d=l[0],b=l[1],u=Object(i.useState)("inicial"),m=Object(y.a)(u,2),O=m[0],h=m[1],p=Object(i.useState)("inicial"),v=Object(y.a)(p,2),N=v[0],E=v[1],S=Object(i.useState)("inicial"),T=Object(y.a)(S,2),w=T[0],C=T[1];return Object(g.jsx)("div",{className:"row no-gutters wrapper",children:Object(g.jsx)("div",{className:"col-10 col-lg-5",children:Object(g.jsxs)("form",{className:"shadow-lg",onSubmit:function(a){a.preventDefault(),"mostrar"===d&&"mostrar"===N&&"mostrar"===O&&"mostrar"===w&&(console.log("ENTRE AL IFFFF"),t(k(n)).then((function(t){if("rejected"===t.meta.requestStatus)return I()("El usuario ya existe");I()("\xa1Usuario registrado exitosamente!"),e("/login")})))},encType:"multipart/form-data",children:[Object(g.jsx)("h1",{className:"mb-3",children:"Register"}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"name_field",children:" Nombre "}),Object(g.jsx)("input",{type:"name",id:"name_field",className:" form-control ".concat("inicial"===N?"":"mostrar"===N?"is-valid ":"is-invalid","             \n                "),name:"name",onChange:s,onBlur:function(e){""!==n.name&&/[A-Za-z]/.test(n.name)?E("mostrar"):E("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien contin\xfae"}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Entre un nombre v\xe1lido "})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"lastname_field",children:" Apellido "}),Object(g.jsx)("input",{type:"lastname",id:"lastname_field",className:" form-control ".concat("inicial"===w?"":"mostrar"===w?"is-valid ":"is-invalid","             \n                "),name:"lastName",onChange:s,onBlur:function(e){""!==n.lastName&&/[A-Za-z]/.test(n.lastName)?C("mostrar"):C("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Entre un apellido v\xe1lido "})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(g.jsx)("input",{type:"email",id:"email_field",className:" form-control ".concat("inicial"===d?"":"mostrar"===d?"is-valid ":"is-invalid","             \n                "),name:"email",onChange:s,onBlur:function(e){""!==n.email&&/\w+@\w+\.[a-z]/.test(n.email)?b("mostrar"):b("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Ingrese un email v\xe1lido"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password_field",children:"Contrase\xf1a"}),Object(g.jsx)("input",{type:"password",id:"password_field",className:" form-control ".concat("inicial"===O?"":"mostrar"===O?"is-valid ":"is-invalid","             \n                "),name:"password",onChange:s,onBlur:function(e){""!==n.password?h("mostrar"):h("nomostrar")}}),Object(g.jsx)("div",{className:"valid-feedback",children:"Todo bien, contin\xfae"}),Object(g.jsx)("div",{className:"invalid-feedback",children:"Ingrese una contrase\xf1a v\xe1lida"})]}),Object(g.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",children:"REGISTER"})]})})})},L=a(43),U=a.p+"static/media/libro-mayor.4e8d30be.png",z=a(49),G=a(66),P=a(37),M=a(70),Q=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.user})),a=Object(f.f)();return Object(g.jsx)("div",{children:Object(g.jsx)(L.a,{expand:"lg",bg:"primary",children:Object(g.jsxs)(G.a,{className:"appbar",children:[Object(g.jsx)("div",{children:Object(g.jsx)(_.b,{exact:!0,to:"/",children:Object(g.jsx)(L.a.Brand,{children:Object(g.jsx)("img",{src:U,width:"40",alt:"IOT COMERCE"})})})}),Object(g.jsxs)("div",{children:[Object(g.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(L.a.Collapse,{id:"basic-navbar-nav",children:t.id?Object(g.jsxs)("div",{className:"d-flex justify-content-center align-items-center mx-2",children:[Object(g.jsx)("div",{className:"mr-2",children:Object(g.jsx)(_.b,{to:"/operationForm",children:Object(g.jsx)(P.a,{className:"mr-1 bg-dark text-center",children:"Operaci\xf3n Nueva"})})}),Object(g.jsx)("div",{className:"text-white h3 d-flex justify-content-center align-items-center ",children:"\xa1Hola, ".concat(t.name,"!")}),Object(g.jsxs)(z.a,{variant:"light",title:Object(g.jsx)(M.a,{}),className:"h3 bg-dark  mx-3 rounded-pill ",id:"basic-nav-dropdown",children:[Object(g.jsx)(z.a.Divider,{}),Object(g.jsx)(z.a.Item,{onClick:function(t){t.preventDefault(),localStorage.clear(),e(T()),a("/")},children:"Cerrar sesi\xf3n"})]})]}):Object(g.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(g.jsx)(_.b,{to:"/login",children:Object(g.jsx)(P.a,{className:"mr-1 bg-dark",children:"Ingresar"})}),Object(g.jsx)(_.b,{to:"/register",children:Object(g.jsx)(P.a,{variant:"warning",children:"Registrarse"})})]})})]})]})})})},Z=(a(100),a(101),function(){var e=Object(x.b)();return r.a.useEffect((function(){var t=localStorage.getItem("token")?localStorage.getItem("token"):void 0;t&&(d.a.defaults.headers.authorization="".concat(t),d.a.post("https://alkemy-back.herokuapp.com/api/auth/me").then((function(t){e(S(t.data))})))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(Q,{}),Object(g.jsxs)(f.c,{children:[Object(g.jsx)(f.a,{path:"/",element:Object(g.jsx)(N,{})}),Object(g.jsx)(f.a,{path:"operationForm",element:Object(g.jsx)(B,{})}),Object(g.jsx)(f.a,{path:"/operation/edit/:id",element:Object(g.jsx)(A,{})}),Object(g.jsx)(f.a,{path:"login",element:Object(g.jsx)(F,{})}),Object(g.jsx)(f.a,{path:"register",element:Object(g.jsx)(D,{})})]})]})}),q=a(69),J=a.n(q),H=Object(b.a)({middleware:function(e){return e().concat(J.a)},reducer:{user:w,operation:p}}),K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,108)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),i(e),r(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(x.a,{store:H,children:Object(g.jsx)(_.a,{children:Object(g.jsx)(Z,{})})})}),document.getElementById("root")),K()},51:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.c004172b.chunk.js.map